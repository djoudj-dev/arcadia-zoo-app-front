import{T as r}from"./chunk-FRW6CNJS.js";var i=class n{tokenKey="token";getToken(){return this.getCookie(this.tokenKey)||null}setToken(e){console.log("Token re\xE7u et stock\xE9:",e),this.setCookie(this.tokenKey,e,1)}removeToken(){this.deleteCookie(this.tokenKey)}isTokenExpired(){let e=this.getToken();if(!e)return!0;let o=this.decodeToken(e),t=o?o.exp*1e3:null;return console.log("Expiration du token:",t,"Heure actuelle:",Date.now()),!t||t<=Date.now()}decodeToken(e){try{let o=e.split(".")[1];return JSON.parse(atob(o))}catch(o){return console.error("Erreur lors du d\xE9codage du token",o),null}}setCookie(e,o,t){let s=new Date(Date.now()+t*864e5).toUTCString();document.cookie=`${e}=${encodeURIComponent(o)}; expires=${s}; path=/`}getCookie(e){let o=document.cookie.split("; ").find(t=>t.startsWith(e+"="));return o?decodeURIComponent(o.split("=")[1]):null}deleteCookie(e){this.setCookie(e,"",-1)}static \u0275fac=function(o){return new(o||n)};static \u0275prov=r({token:n,factory:n.\u0275fac,providedIn:"root"})};export{i as a};
