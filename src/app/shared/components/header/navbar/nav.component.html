<nav class="bg-secondary z-50 fixed top-0 w-full shadow">
  <div
    id="main-nav"
    class="bg-secondary w-full mx-auto p-4 flex items-center justify-between flex-wrap md:p-5"
  >
    <a
      [routerLink]="['/']"
      aria-label="Accueil du portfolio"
      class="text-lg lg:text-xl text-primary font-bold"
    >
      Zoo Arcadia
    </a>
    <!-- Bouton menu hamburger visible uniquement sur mobile -->
    <button
      (click)="toggleMenu()"
      aria-controls="main-navlist"
      [attr.aria-expanded]="isMenuOpen"
      id="menu-toggler"
      class="cursor-pointer w-7 md:hidden"
    >
      <!-- Icône du menu hamburger (fermé) -->
      @if (!isMenuOpen) {
      <img width="28" height="28" src="images/menu.svg" alt="Ouvrir le menu" />
      }
      <!-- Icône du menu ouvert (croix) -->
      @if (isMenuOpen) {
      <img width="28" height="28" src="images/cross.svg" alt="Fermer le menu" />
      }
    </button>

    <!-- Menu visible sur grand écran et caché sur mobile -->
    <ul
      id="main-navlist"
      class="hidden md:flex items-center w-full md:w-auto pt-4 md:pt-0 text-primary"
    >
      <li class="block py-3 md:inline md:py-0 md:mr-6">
        <a
          [routerLink]="['/']"
          class="text-sm uppercase font-semibold hover:text-quaternary"
          >Accueil</a
        >
      </li>
      <li class="block py-3 md:inline md:py-0 md:mr-6">
        <a
          [routerLink]="['/services']"
          class="text-sm uppercase font-semibold hover:text-quaternary"
          >Services</a
        >
      </li>
      <li class="block py-3 md:inline md:py-0 md:mr-6">
        <a
          [routerLink]="['/habitats']"
          class="text-sm uppercase font-semibold hover:text-quaternary"
          >Habitats</a
        >
      </li>
      <li class="block py-3 md:inline md:py-0 md:mr-6">
        <a
          [routerLink]="['/contact']"
          class="text-sm uppercase font-semibold hover:text-quaternary"
          >Contact</a
        >
      </li>
      @if (authService.isAuthenticated() && authService.hasRole('vet')) {
      <li class="block py-3 md:inline md:py-0 md:mr-6">
        <a
          [routerLink]="['/vet']"
          class="text-sm uppercase font-semibold hover:text-quaternary"
          >Vétérinaire</a
        >
      </li>
      } @if (authService.isAuthenticated()) {
      <li class="block py-3 md:inline md:py-0 md:mr-6">
        <a
          (click)="logout()"
          class="text-sm uppercase font-semibold hover:text-quaternary"
          >Déconnexion</a
        >
      </li>
      } @if (!authService.isAuthenticated()) {
      <li class="block py-3 md:inline md:py-0">
        <a
          [routerLink]="['/login']"
          class="text-sm uppercase font-semibold hover:text-quaternary"
          >Connexion</a
        >
      </li>
      }
    </ul>
  </div>
  <!-- Menu pour mobile -->
  <ul
    id="main-navlist-mobile"
    [class.hidden]="!isMenuOpen"
    class="bg-secondary text-center w-full pt-4 text-primary md:hidden"
  >
    <li class="block py-3 md:inline md:py-0 md:mr-6">
      <a
        [routerLink]="['/']"
        class="text-sm uppercase font-semibold hover:text-quaternary"
        >Accueil</a
      >
    </li>
    <li class="block py-3 md:inline md:py-0 md:mr-6">
      <a
        [routerLink]="['/services']"
        class="text-sm uppercase font-semibold hover:text-quaternary"
        >Services</a
      >
    </li>
    <li class="block py-3 md:inline md:py-0 md:mr-6">
      <a
        [routerLink]="['/habitats']"
        class="text-sm uppercase font-semibold hover:text-quaternary"
        >Habitats</a
      >
    </li>
    <li class="block py-3 md:inline md:py-0 md:mr-6">
      <a
        [routerLink]="['/contact']"
        class="text-sm uppercase font-semibold hover:text-quaternary"
        >Contact</a
      >
    </li>
    @if ("authService.hasRole('vet')") {
    <li class="block py-3 md:inline md:py-0 md:mr-6">
      <a
        [routerLink]="['/vet']"
        class="text-sm uppercase font-semibold hover:text-quaternary"
        >Vétérinaire</a
      >
    </li>
    } @if (authService.isAuthenticated()) {
    <li class="block py-3 md:inline md:py-0 md:mr-6">
      <a
        (click)="logout()"
        class="text-sm uppercase font-semibold hover:text-quaternary"
        >Déconnexion</a
      >
    </li>
    } @if (!authService.isAuthenticated()) {
    <li class="block py-3 md:inline md:py-0">
      <a
        [routerLink]="['/login']"
        class="text-sm uppercase font-semibold hover:text-quaternary"
        >Connexion</a
      >
    </li>
    }
  </ul>
</nav>
<app-banner></app-banner>
