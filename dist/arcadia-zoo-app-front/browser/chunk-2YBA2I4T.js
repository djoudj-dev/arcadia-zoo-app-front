import{Nc as v,Qc as o,X as s,_ as m,_a as f,a as n,b as p,da as l,p as c,u as a}from"./chunk-RMHEMJYH.js";var h=class i{constructor(r){this.http=r}imageBaseUrl=`${o.apiUrl}/api`;apiUrl=`${o.apiUrl}/api/services`;servicesCache=f([]);getServices(){let r=this.servicesCache();return r.length>0?c(r):this.http.get(this.apiUrl).pipe(a(e=>e.map(t=>p(n({},t),{image:t.images?this.formatImageUrl("services",t.images):""}))),s(e=>this.servicesCache.set(e)))}getServiceById(r){return this.getServices().pipe(a(e=>e.find(t=>t.id_service===r)),s(e=>{e&&(e.images=e.images?this.formatImageUrl("folderName",e.images):"")}))}formatImageUrl(r,e){return e.startsWith("http")||e.startsWith("https")?e:`${this.imageBaseUrl}/${e}`}clearCache(){this.servicesCache.set([])}static \u0275fac=function(e){return new(e||i)(l(v))};static \u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"})};export{h as a};
