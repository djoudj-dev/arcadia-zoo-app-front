import{a as v}from"./chunk-IQHRYKAE.js";import{$ as s,E as h,W as c,a as o,b as p,lc as m,nc as d,o as n,qc as i,s as l}from"./chunk-TKCV3HAR.js";var u=class a{constructor(e,t){this.http=e;this.tokenService=t}apiUrl=`${i.apiUrl}/api/veterinary-reports`;animalApiUrl=`${i.apiUrl}/api/animals`;getHeaders(){let e=this.tokenService.getToken();return new m({"Content-Type":"application/json",Authorization:`Bearer ${e}`})}getAllReports(){let e=this.getHeaders();return this.http.get(this.apiUrl,{headers:e}).pipe(h(t=>(console.error("Erreur lors de la r\xE9cup\xE9ration des rapports:",t),n(()=>t))))}getReportById(e){let t=this.getHeaders();return this.http.get(`${this.apiUrl}/${e}`,{headers:t})}createReport(e){let t=this.getHeaders();return this.http.post(this.apiUrl,e,{headers:t})}updateReport(e,t){let r=this.getHeaders();return this.http.put(`${this.apiUrl}/${e}`,t,{headers:r})}deleteReport(e){return this.http.delete(`${this.apiUrl}/${e}`)}fetchAnimalDetails(e){let t=this.getHeaders();return this.http.get(`${this.animalApiUrl}/${e}`,{headers:t}).pipe(l(r=>p(o({},r),{images:r.images?`${i.apiUrl}/api/${r.images}`:""})))}updateReportStatus(e,t){let r=this.getHeaders();return this.http.patch(`${this.apiUrl}/${e}/status`,{is_treated:t},{headers:r})}static \u0275fac=function(t){return new(t||a)(s(d),s(v))};static \u0275prov=c({token:a,factory:a.\u0275fac,providedIn:"root"})};export{u as a};
