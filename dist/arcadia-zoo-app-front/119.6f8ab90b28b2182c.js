"use strict";(self.webpackChunkarcadia_zoo_app_front=self.webpackChunkarcadia_zoo_app_front||[]).push([[119],{1871:(w,f,s)=>{s.d(f,{u:()=>e});var b=s(467),A=s(4438);let e=(()=>{class c{ALLOWED_MIME_TYPES=["image/jpeg","image/png","image/webp","image/gif"];MAX_FILE_SIZE=5242880;MAX_IMAGE_DIMENSIONS={width:4096,height:4096};validateFile(p){var d=this;return(0,b.A)(function*(){const u=[];d.ALLOWED_MIME_TYPES.includes(p.type)||u.push("Type de fichier non autoris\xe9. Formats accept\xe9s : JPG, PNG, WebP, GIF"),p.size>d.MAX_FILE_SIZE&&u.push("Le fichier est trop volumineux (maximum 5MB)");try{const l=yield d.getImageDimensions(p);(l.width>d.MAX_IMAGE_DIMENSIONS.width||l.height>d.MAX_IMAGE_DIMENSIONS.height)&&u.push(`Les dimensions de l'image sont trop grandes (max ${d.MAX_IMAGE_DIMENSIONS.width}x${d.MAX_IMAGE_DIMENSIONS.height})`)}catch(l){u.push("Format d'image invalide : "+l.message)}try{(yield d.validateImageContent(p))||u.push("Le contenu du fichier est invalide")}catch(l){u.push(`Impossible de valider le contenu du fichier : ${l.message}`)}return{isValid:0===u.length,errors:u}})()}sanitizeFileName(p){return p.replace(/[^a-zA-Z0-9.-]/g,"_").replace(/\.{2,}/g,".").substring(0,255)}getImageDimensions(p){return new Promise((d,u)=>{const l=new Image;l.onload=()=>{URL.revokeObjectURL(l.src),d({width:l.width,height:l.height})},l.onerror=()=>{URL.revokeObjectURL(l.src),u(new Error("Image invalide"))},l.src=URL.createObjectURL(p)})}validateImageContent(p){return(0,b.A)(function*(){const d=yield p.arrayBuffer(),u=new Uint8Array(d.slice(0,4));return Object.values({jpeg:[255,216,255],png:[137,80,78,71],gif:[71,73,70,56],webp:[82,73,70,70]}).some(g=>g.every((_,v)=>u[v]===_))})()}static \u0275fac=function(d){return new(d||c)};static \u0275prov=A.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})()},4119:(w,f,s)=>{s.r(f),s.d(f,{AnimalManagementComponent:()=>P});var b=s(467),A=s(177),e=s(4438),c=s(9417),E=s(6029),p=s(5312),d=s(8219),u=s(1626),l=s(9437),g=s(8141),_=s(8810),v=s(9260);let y=(()=>{class o{http;animalService;apiUrl=`${p.c.apiUrl}/api/admin/animal-management`;constructor(t,i){this.http=t,this.animalService=i}getAllAnimals(){return this.http.get(this.apiUrl).pipe((0,l.W)(t=>this.handleError("chargement des animaux",t)))}createAnimal(t){const i=new u.Lr({Accept:"application/json"}),n={};return t.forEach((r,a)=>{"weightRange"===a?n.weight_range=r:n[a]=r}),this.http.post(this.apiUrl,t,{headers:i}).pipe((0,g.M)(()=>this.animalService.clearCache()),(0,l.W)(r=>this.handleError("cr\xe9ation de l'animal",r)))}updateAnimal(t,i){if(!t||!i)return(0,_.$)(()=>new Error("Donn\xe9es invalides"));const n=new u.Lr({Accept:"application/json"}),r={};return i.forEach((a,h)=>{"weightRange"===h?r.weight_range=a:r[h]=a}),console.log("Donn\xe9es envoy\xe9es pour mise \xe0 jour:",{id:t,data:r}),this.http.put(`${this.apiUrl}/${t}`,r,{headers:n}).pipe((0,g.M)(a=>{console.log("R\xe9ponse du serveur (mise \xe0 jour):",a),this.animalService.clearCache()}),(0,l.W)(a=>(console.error("Erreur d\xe9taill\xe9e (mise \xe0 jour):",a),413===a.status?(0,_.$)(()=>new Error("Fichier trop volumineux")):this.handleError("mise \xe0 jour de l'animal",a))))}deleteAnimal(t){return this.http.delete(`${this.apiUrl}/${t}`).pipe((0,g.M)(()=>this.animalService.clearCache()),(0,l.W)(i=>this.handleError("suppression de l'animal",i)))}handleError(t,i){let n=`Erreur lors de ${t}: `;return i.error instanceof ErrorEvent?n+=`Une erreur est survenue: ${i.error.message}`:(n+=`Le serveur a retourn\xe9: ${i.status} - ${i.statusText}`,i.error?.message&&(n+=`\nD\xe9tail: ${i.error.message}`)),console.error(n),(0,_.$)(()=>new Error(n))}static \u0275fac=function(i){return new(i||o)(e.KVO(u.Qq),e.KVO(v.K))};static \u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var M=s(1403),C=s(1593),j=s(9702),D=s(1871);const F=(o,m)=>m.id_habitat,S=(o,m)=>m.id_animal,x=()=>[];function k(o,m){1&o&&(e.j41(0,"div",17),e.qSk(),e.j41(1,"svg",38),e.nrm(2,"path",39),e.k0s(),e.joV(),e.j41(3,"p",40)(4,"span",41),e.EFF(5,"Cliquez pour t\xe9l\xe9charger"),e.k0s(),e.EFF(6," ou glissez-d\xe9posez "),e.k0s(),e.j41(7,"p",42),e.EFF(8," PNG, JPG ou WEBP (MAX. 5MB) "),e.k0s()())}function R(o,m){if(1&o&&e.nrm(0,"img",18),2&o){const t=e.XpG();e.Y8G("src",t.newAnimalData().images,e.B4B)}}function T(o,m){if(1&o&&(e.j41(0,"option",23),e.EFF(1),e.k0s()),2&o){const t=m.$implicit;e.Y8G("value",t.id_habitat),e.R7$(),e.JRh(t.name)}}function I(o,m){if(1&o&&(e.EFF(0),e.nI1(1,"slice")),2&o){const t=e.XpG(2).$implicit;e.SpI(" ",e.brH(1,1,t.characteristics,0,30),"... ")}}function $(o,m){if(1&o&&e.EFF(0),2&o){const t=e.XpG(2).$implicit;e.SpI(" ",t.characteristics," ")}}function G(o,m){1&o&&e.EFF(0," Lire la suite ")}function X(o,m){1&o&&e.EFF(0," Voir moins ")}function N(o,m){if(1&o){const t=e.RV6();e.j41(0,"div",57)(1,"p"),e.EFF(2),e.k0s(),e.j41(3,"div",58)(4,"button",59),e.bIt("click",function(){e.eBV(t);const n=e.XpG(4);return e.Njj(n.deleteAnimalConfirmed())}),e.EFF(5," Supprimer "),e.k0s(),e.j41(6,"button",60),e.bIt("click",function(){e.eBV(t);const n=e.XpG(4);return e.Njj(n.cancelDelete())}),e.EFF(7," Annuler "),e.k0s()()()}if(2&o){const t=e.XpG(2).$implicit;e.R7$(2),e.SpI(" \xcates-vous s\xfbr de vouloir supprimer l'animal \"",t.name,'" ? ')}}function V(o,m){if(1&o){const t=e.RV6();e.j41(0,"div",47)(1,"div",48),e.nrm(2,"img",49),e.j41(3,"div",50)(4,"h4",51),e.EFF(5),e.k0s(),e.j41(6,"p",52),e.EFF(7),e.k0s(),e.j41(8,"p",53)(9,"span",41),e.EFF(10,"Description:"),e.k0s(),e.j41(11,"span"),e.DNE(12,I,2,5)(13,$,1,1),e.k0s(),e.j41(14,"button",54),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,r=e.XpG(2);return e.Njj(r.toggleAnimal(n.id_animal))}),e.DNE(15,G,1,0)(16,X,1,0),e.k0s()()(),e.j41(17,"div",55)(18,"app-button",56),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,r=e.XpG(2);return e.Njj(r.editAnimal(n.id_animal))})("keydown",function(n){e.eBV(t);const r=e.XpG().$implicit,a=e.XpG(2);return e.Njj("Enter"===n.key&&a.editAnimal(r.id_animal))}),e.k0s(),e.j41(19,"app-button",56),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,r=e.XpG(2);return e.Njj(r.confirmDeleteAnimal(n.id_animal))})("keydown",function(n){e.eBV(t);const r=e.XpG().$implicit,a=e.XpG(2);return e.Njj("Enter"===n.key&&a.confirmDeleteAnimal(r.id_animal))}),e.k0s()()(),e.DNE(20,N,8,1,"div",57),e.k0s()}if(2&o){const t=e.XpG().$implicit,i=e.XpG(2);e.R7$(2),e.Y8G("src",t.images,e.B4B)("alt",t.name),e.R7$(3),e.SpI(" ",t.name," "),e.R7$(2),e.JRh(t.species),e.R7$(5),e.vxM(t.showTime?13:12),e.R7$(3),e.vxM(t.showTime?16:15),e.R7$(3),e.Y8G("text","Modifier")("type","button")("color","secondary")("rounded",!0)("customClass","text-xs px-2 py-1"),e.R7$(),e.Y8G("text","Supprimer")("type","button")("color","red")("rounded",!0)("customClass","text-xs px-2 py-1"),e.R7$(),e.vxM(i.animalToDelete===t.id_animal?20:-1)}}function B(o,m){if(1&o&&e.DNE(0,V,21,17,"div",47),2&o){const t=m.$implicit,i=e.XpG().$implicit,n=e.XpG();e.vxM(n.visibleAnimals()[i.id_habitat]||0===n.groupedAnimals()[i.id_habitat].indexOf(t)?0:-1)}}function U(o,m){if(1&o){const t=e.RV6();e.j41(0,"div",45)(1,"app-button",56),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,r=e.XpG();return e.Njj(r.toggleVisibility(n.id_habitat))})("keydown",function(n){e.eBV(t);const r=e.XpG().$implicit,a=e.XpG();return e.Njj("Enter"===n.key&&a.toggleVisibility(r.id_habitat))}),e.k0s()()}if(2&o){const t=e.XpG().$implicit,i=e.XpG();e.R7$(),e.Y8G("text",i.visibleAnimals()[t.id_habitat]?"Voir moins":"Voir plus")("type","button")("color","tertiary")("rounded",!0)("customClass","px-4 py-2")}}function L(o,m){1&o&&(e.j41(0,"p",46),e.EFF(1," Aucun animal dans cet habitat "),e.k0s())}function O(o,m){if(1&o&&(e.j41(0,"div",37)(1,"h3",43),e.EFF(2),e.k0s(),e.j41(3,"div",44),e.Z7z(4,B,1,1,null,null,S),e.DNE(6,U,2,5,"div",45)(7,L,2,0,"p",46),e.k0s()()),2&o){const t=m.$implicit,i=e.XpG();e.R7$(2),e.SpI(" ",t.name," "),e.R7$(2),e.Dyx(i.groupedAnimals()[t.id_habitat]||e.lJ4(3,x)),e.R7$(2),e.vxM((i.groupedAnimals()[t.id_habitat]||e.lJ4(4,x)).length>1?6:-1),e.R7$(),e.vxM((i.groupedAnimals()[t.id_habitat]||e.lJ4(5,x)).length?-1:7)}}let P=(()=>{class o{animalManagement;habitatService;countResourceService;toastService;fileSecurityService;animals=(0,e.vPA)([]);habitats=(0,e.vPA)([]);selectedHabitat=(0,e.vPA)(null);selectedFile=(0,e.vPA)(null);groupedAnimals=(0,e.vPA)({});visibleAnimals=(0,e.vPA)({});newAnimalData=(0,e.vPA)({});animalToDelete=null;imageBaseUrl=`${p.c.apiUrl}/api`;filteredAnimals=(0,e.EWP)(()=>this.animals().filter(t=>t.habitat_id===this.selectedHabitat()));constructor(t,i,n,r,a){this.animalManagement=t,this.habitatService=i,this.countResourceService=n,this.toastService=r,this.fileSecurityService=a}ngOnInit(){this.loadHabitats(),this.loadAnimals()}loadHabitats(){this.habitatService.getHabitats().subscribe({next:t=>this.habitats.set(t),error:t=>{console.error("Erreur de chargement des habitats :",t),this.toastService.showError("Erreur lors du chargement des habitats")}})}loadAnimals(){this.animalManagement.getAllAnimals().subscribe({next:t=>{this.animals.set(t.map(i=>({...i,showTime:!1,images:`${this.imageBaseUrl}/${i.images}`}))),this.groupAnimals()},error:t=>{console.error("Erreur de chargement des animaux :",t),this.toastService.showError("Erreur lors du chargement des animaux")}})}onFileChange(t){const i=t.target;i.files&&i.files.length>0&&(this.selectedFile.set(i.files[0]),this.toastService.showSuccess("Image s\xe9lectionn\xe9e avec succ\xe8s"))}createAnimal(){if(this.validateAnimalData()){const t=this.buildFormData();this.animalManagement.createAnimal(t).subscribe({next:()=>{this.resetForm(),this.loadAnimals(),this.countResourceService.incrementTotalAnimals(),this.toastService.showSuccess("Animal cr\xe9\xe9 avec succ\xe8s")},error:i=>{console.error("Erreur de cr\xe9ation de l'animal :",i),this.toastService.showError("Erreur lors de la cr\xe9ation de l'animal")}})}else this.toastService.showError("Veuillez remplir tous les champs requis")}updateAnimal(){if(this.validateAnimalData(!0)){const t=this.buildFormData(),i=this.newAnimalData().id_animal.toString();console.log("Donn\xe9es \xe0 envoyer:",{id:i,name:t.get("name"),species:t.get("species")}),this.animalManagement.updateAnimal(i,t).subscribe({next:n=>{n.name!==t.get("name")&&this.toastService.showWarning("Les donn\xe9es re\xe7ues diff\xe8rent des donn\xe9es envoy\xe9es");const r={...n,images:n.images??""};this.animals.update(a=>a.map(h=>h.id_animal===r.id_animal?r:h)),this.groupAnimals(),this.resetForm(),this.toastService.showSuccess("Animal mis \xe0 jour avec succ\xe8s")},error:n=>{console.error("Erreur lors de la mise \xe0 jour de l'animal:",n),this.toastService.showError("Erreur lors de la mise \xe0 jour de l'animal")}})}else this.toastService.showError("Veuillez remplir tous les champs requis")}editAnimal(t){const i=this.animals().find(n=>n.id_animal===t);i&&(this.newAnimalData.set({...i}),this.toastService.showSuccess("Animal s\xe9lectionn\xe9 pour modification"))}deleteAnimal(t){const i=this.animals().find(r=>r.id_animal===t);i&&(confirm(`\xcates-vous s\xfbr de vouloir supprimer l'animal "${i.name}" ?`)?this.animalManagement.deleteAnimal(t.toString()).subscribe({next:()=>{this.animals.update(r=>r.filter(a=>a.id_animal!==t)),this.groupAnimals(),this.countResourceService.decrementTotalAnimals(),this.loadAnimals(),this.resetForm(),this.toastService.showSuccess("Animal supprim\xe9 avec succ\xe8s")},error:r=>{console.error("Erreur de suppression de l'animal :",r),this.toastService.showError("Erreur lors de la suppression de l'animal")}}):this.toastService.showSuccess("Suppression annul\xe9e"))}resetForm(){this.newAnimalData.set({}),this.selectedFile.set(null)}cancel(){this.resetForm(),this.toastService.showSuccess("Formulaire r\xe9initialis\xe9")}toggleAnimal(t){if(!this.animals().find(r=>r.id_animal===t))return void console.error("Animal non trouv\xe9:",t);const n=this.animals().map(r=>r.id_animal===t?{...r,showTime:!r.showTime}:r);this.animals.set(n),this.groupAnimals()}toggleVisibility(t){this.visibleAnimals.update(i=>({...i,[t]:!i[t]}))}isAnimalVisible(t){return this.visibleAnimals()[t.habitat_id]??!1}shouldShowFullDescription(t){const i=!!t.showTime;return console.log(`V\xe9rification description pour ${t.name}:`,i),i}validateAnimalData(t=!1){const i=[this.newAnimalData().name,this.newAnimalData().species,this.newAnimalData().habitat_id,this.newAnimalData().characteristics,this.newAnimalData().weightRange,this.newAnimalData().diet];return t&&i.push(this.newAnimalData().id_animal),i.every(n=>null!=n)}buildFormData(){const t=new FormData,i=this.newAnimalData();Object.entries(i).forEach(([r,a])=>{null!=a&&t.append(r,"object"==typeof a?JSON.stringify(a):String(a))});const n=this.selectedFile();return n&&t.append("images",n),t.forEach((r,a)=>{console.log(`Contenu du FormData : ${a} = ${"object"==typeof r?JSON.stringify(r):r}`)}),t}groupAnimals(){const t=this.animals().reduce((i,n)=>(i[n.habitat_id]||(i[n.habitat_id]=[]),i[n.habitat_id].push({...n}),i),{});this.groupedAnimals.set(t)}onFileSelected(t){var i=this;return(0,b.A)(function*(){const n=t.target.files?.[0];if(n)try{const r=yield i.fileSecurityService.validateFile(n);if(!r.isValid)return void i.toastService.showError(r.errors.join("\n"));i.selectedFile.set(n);const a=new FileReader;a.onload=()=>{i.newAnimalData.update(h=>({...h,images:a.result}))},a.readAsDataURL(n),i.toastService.showSuccess("Image s\xe9lectionn\xe9e avec succ\xe8s")}catch(r){console.error("Erreur lors du traitement du fichier:",r),i.toastService.showError("Erreur lors du traitement du fichier")}})()}confirmDeleteAnimal(t){this.animalToDelete=t}cancelDelete(){this.animalToDelete=null}deleteAnimalConfirmed(){null!==this.animalToDelete&&(this.deleteAnimal(this.animalToDelete),this.animalToDelete=null)}static \u0275fac=function(i){return new(i||o)(e.rXU(y),e.rXU(M.R),e.rXU(C.v),e.rXU(j.f),e.rXU(D.u))};static \u0275cmp=e.VBU({type:o,selectors:[["app-animal-management"]],standalone:!0,features:[e.aNF],decls:63,vars:16,consts:[[1,"w-full","bg-gradient-to-b","from-secondary","to-primary","shadow-lg","py-8"],[1,"container","mx-auto","px-4"],[1,"text-center","space-y-4","mb-12"],[1,"text-3xl","md:text-5xl","lg:text-6xl","font-serif","font-bold","text-quinary"],[1,"text-lg","md:text-xl","text-tertiary","font-serif","italic","max-w-4xl","mx-auto"],[1,"flex","flex-col","lg:flex-row","gap-8"],[1,"w-full","lg:w-1/2","bg-white","rounded-2xl","shadow-lg","p-6","space-y-6"],[1,"text-2xl","font-serif","font-semibold","text-tertiary","mb-6"],["enctype","multipart/form-data",1,"space-y-6",3,"ngSubmit"],["for","name",1,"block","text-lg","font-medium","text-tertiary","mb-2"],["type","text","id","name","name","name","required","","placeholder","Nom de l'animal",1,"w-full","p-3","border","border-secondary/30","rounded-lg","focus:ring-2","focus:ring-tertiary","focus:border-transparent",3,"ngModelChange","ngModel"],["for","species",1,"block","text-lg","font-medium","text-tertiary","mb-2"],["type","text","id","species","name","species","required","","placeholder","Esp\xe8ce de l'animal",1,"w-full","p-3","border","border-secondary/30","rounded-lg","focus:ring-2","focus:ring-tertiary","focus:border-transparent",3,"ngModelChange","ngModel"],[1,"form-group"],["for","animalImage",1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"flex","items-center","justify-center","w-full"],[1,"flex","flex-col","items-center","justify-center","w-full","h-64","border-2","border-gray-300","border-dashed","rounded-lg","cursor-pointer","bg-gray-50","hover:bg-gray-100","transition-all","duration-300"],[1,"flex","flex-col","items-center","justify-center","pt-5","pb-6"],["alt","Aper\xe7u",1,"w-full","h-full","object-cover","rounded-lg",3,"src"],["id","animalImage","type","file","accept","image/*",1,"hidden",3,"change"],["for","animal-habitat",1,"block","text-lg","font-medium","text-tertiary","mb-2"],["id","animal-habitat","name","habitat_id","required","",1,"w-full","p-3","border","border-secondary/30","rounded-lg","focus:ring-2","focus:ring-tertiary","focus:border-transparent",3,"ngModelChange","ngModel"],["value",""],[3,"value"],["for","characteristics",1,"block","text-lg","font-medium","text-tertiary","mb-2"],["id","characteristics","name","characteristics","required","","rows","3","placeholder","Ex: sociable, actif, joueur",1,"w-full","p-3","border","border-secondary/30","rounded-lg","focus:ring-2","focus:ring-tertiary","focus:border-transparent",3,"ngModelChange","ngModel"],["for","weight-range",1,"block","text-lg","font-medium","text-tertiary","mb-2"],["type","text","id","weight-range","name","weightRange","required","","placeholder","Ex: 150 \xe0 300 kg",1,"w-full","p-3","border","border-secondary/30","rounded-lg","focus:ring-2","focus:ring-tertiary","focus:border-transparent",3,"ngModelChange","ngModel"],["for","diet",1,"block","text-lg","font-medium","text-tertiary","mb-2"],["id","diet","name","diet","required","",1,"w-full","p-3","border","border-secondary/30","rounded-lg","focus:ring-2","focus:ring-tertiary","focus:border-transparent",3,"ngModelChange","ngModel"],["value","Herbivore"],["value","Carnivore"],["value","Omnivore"],[1,"flex","gap-4","pt-4"],[1,"w-1/2",3,"text","type","color","rounded"],[1,"w-1/2",3,"click","keydown","text","type","color","rounded"],[1,"w-full","lg:w-1/2","space-y-8"],[1,"bg-white","rounded-2xl","shadow-lg","p-6"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 20 16",1,"w-8","h-8","mb-4","text-gray-500"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"],[1,"mb-2","text-sm","text-gray-500"],[1,"font-semibold"],[1,"text-xs","text-gray-500"],[1,"text-2xl","font-serif","font-semibold","text-tertiary","mb-6","text-center"],[1,"space-y-4"],[1,"text-center","mt-4"],[1,"text-center","text-gray-500","italic"],[1,"bg-gray-50","rounded-xl","p-4","shadow-md","hover:shadow-lg","transition-all","duration-300","relative"],[1,"flex","flex-col","sm:flex-row","items-center","gap-4"],[1,"w-32","h-32","object-cover","rounded-lg","shadow-md",3,"src","alt"],[1,"flex-1","space-y-2"],[1,"text-lg","font-bold","text-tertiary"],[1,"text-gray-600"],[1,"text-sm","text-gray-600"],[1,"text-tertiary","hover:text-tertiary/80","ml-2","underline",3,"click"],[1,"flex","gap-2"],[3,"click","keydown","text","type","color","rounded","customClass"],[1,"mt-4","p-4","bg-red-100","rounded-lg"],[1,"flex","justify-end","gap-2","mt-2"],[1,"px-4","py-2","bg-red-500","text-white","rounded","hover:bg-red-600",3,"click"],[1,"px-4","py-2","bg-gray-300","text-gray-700","rounded","hover:bg-gray-400",3,"click"]],template:function(i,n){1&i&&(e.j41(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1",3),e.EFF(4," Gestion des Animaux "),e.k0s(),e.j41(5,"p",4),e.EFF(6," G\xe9rez les animaux du zoo et leurs habitats "),e.k0s(),e.nrm(7,"app-toast"),e.k0s(),e.j41(8,"div",5)(9,"div",6)(10,"h3",7),e.EFF(11),e.k0s(),e.j41(12,"form",8),e.bIt("ngSubmit",function(){return n.newAnimalData().id_animal?n.updateAnimal():n.createAnimal()}),e.j41(13,"div")(14,"label",9),e.EFF(15," Nom de l'animal "),e.k0s(),e.j41(16,"input",10),e.mxI("ngModelChange",function(a){return e.DH7(n.newAnimalData().name,a)||(n.newAnimalData().name=a),a}),e.k0s()(),e.j41(17,"div")(18,"label",11),e.EFF(19," Esp\xe8ce "),e.k0s(),e.j41(20,"input",12),e.mxI("ngModelChange",function(a){return e.DH7(n.newAnimalData().species,a)||(n.newAnimalData().species=a),a}),e.k0s()(),e.j41(21,"div",13)(22,"label",14),e.EFF(23," Image de l'animal "),e.k0s(),e.j41(24,"div",15)(25,"label",16),e.DNE(26,k,9,0,"div",17)(27,R,1,1,"img",18),e.j41(28,"input",19),e.bIt("change",function(a){return n.onFileSelected(a)}),e.k0s()()()(),e.j41(29,"div")(30,"label",20),e.EFF(31," Habitat "),e.k0s(),e.j41(32,"select",21),e.mxI("ngModelChange",function(a){return e.DH7(n.newAnimalData().habitat_id,a)||(n.newAnimalData().habitat_id=a),a}),e.j41(33,"option",22),e.EFF(34,"S\xe9lectionner un habitat"),e.k0s(),e.Z7z(35,T,2,2,"option",23,F),e.k0s()(),e.j41(37,"div")(38,"label",24),e.EFF(39," Caract\xe9ristiques "),e.k0s(),e.j41(40,"textarea",25),e.mxI("ngModelChange",function(a){return e.DH7(n.newAnimalData().characteristics,a)||(n.newAnimalData().characteristics=a),a}),e.k0s()(),e.j41(41,"div")(42,"label",26),e.EFF(43," Fourchette de poids "),e.k0s(),e.j41(44,"input",27),e.mxI("ngModelChange",function(a){return e.DH7(n.newAnimalData().weightRange,a)||(n.newAnimalData().weightRange=a),a}),e.k0s()(),e.j41(45,"div")(46,"label",28),e.EFF(47," R\xe9gime alimentaire "),e.k0s(),e.j41(48,"select",29),e.mxI("ngModelChange",function(a){return e.DH7(n.newAnimalData().diet,a)||(n.newAnimalData().diet=a),a}),e.j41(49,"option",22),e.EFF(50,"S\xe9lectionner un r\xe9gime"),e.k0s(),e.j41(51,"option",30),e.EFF(52,"Herbivore"),e.k0s(),e.j41(53,"option",31),e.EFF(54,"Carnivore"),e.k0s(),e.j41(55,"option",32),e.EFF(56,"Omnivore"),e.k0s()()(),e.j41(57,"div",33),e.nrm(58,"app-button",34),e.j41(59,"app-button",35),e.bIt("click",function(){return n.cancel()})("keydown",function(a){return"Enter"===a.key&&n.cancel()}),e.k0s()()()(),e.j41(60,"div",36),e.Z7z(61,O,8,6,"div",37,F),e.k0s()()()()),2&i&&(e.R7$(11),e.SpI(" ",n.newAnimalData().id_animal?"Modifier l'animal":"Ajouter un animal"," "),e.R7$(5),e.R50("ngModel",n.newAnimalData().name),e.R7$(4),e.R50("ngModel",n.newAnimalData().species),e.R7$(6),e.vxM(n.newAnimalData().images?27:26),e.R7$(6),e.R50("ngModel",n.newAnimalData().habitat_id),e.R7$(3),e.Dyx(n.habitats()),e.R7$(5),e.R50("ngModel",n.newAnimalData().characteristics),e.R7$(4),e.R50("ngModel",n.newAnimalData().weightRange),e.R7$(4),e.R50("ngModel",n.newAnimalData().diet),e.R7$(10),e.Y8G("text",n.newAnimalData().id_animal?"Modifier":"Cr\xe9er")("type","submit")("color","tertiary")("rounded",!0),e.R7$(),e.Y8G("text","Annuler")("type","button")("color","secondary")("rounded",!0),e.R7$(2),e.Dyx(n.habitats()))},dependencies:[A.P9,c.X1,c.qT,c.xH,c.y7,c.me,c.wz,c.BC,c.cb,c.YS,c.YN,c.vS,c.cV,E.d,d.Q],encapsulation:2})}return o})()}}]);