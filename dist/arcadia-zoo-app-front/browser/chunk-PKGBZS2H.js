import{p as f,s as i}from"./chunk-H7WWMUX6.js";import{Ia as v,Q as p,T as m,Y as l,a as o,b as c,n,r as a}from"./chunk-FRW6CNJS.js";var h=class s{constructor(t){this.http=t}imageBaseUrl=`${i.apiUrl}`;apiUrl=`${i.apiUrl}/api/services`;servicesCache=v([]);getServices(){let t=this.servicesCache();return t.length>0?n(t):this.http.get(this.apiUrl).pipe(a(e=>e.map(r=>c(o({},r),{image:r.images?`${i.apiUrl}/uploads/services/${r.images}`:""}))),p(e=>this.servicesCache.set(e)))}getServiceById(t){return this.getServices().pipe(a(e=>e.find(r=>r.id_service===t)),p(e=>{e&&(e.images=e.images?this.formatImageUrl("folderName",e.images):"")}))}formatImageUrl(t,e){return e.startsWith("http")||e.startsWith("https")?e:`${this.imageBaseUrl}/${e}`}clearCache(){this.servicesCache.set([])}static \u0275fac=function(e){return new(e||s)(l(f))};static \u0275prov=m({token:s,factory:s.\u0275fac,providedIn:"root"})};export{h as a};
