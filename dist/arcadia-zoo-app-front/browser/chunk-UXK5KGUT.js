import{c as k,e as D,f as I,g as N,h as j,i as F,m as R,n as O,o as q,p as T,r as V}from"./chunk-2KB7PZZF.js";import{n as W}from"./chunk-LAWGQKM5.js";import{$a as p,Ka as s,O as E,Oa as f,Pa as x,Qa as t,Ra as e,Sa as r,Ta as U,W as v,Wa as S,Xa as M,_a as i,cb as c,da as w,db as b,ea as C,eb as g,gb as A,m as y,ya as o,za as _}from"./chunk-X5OSXEGS.js";var h=class d{localStorageKey="users";getAllUsers(){return JSON.parse(localStorage.getItem(this.localStorageKey)||"[]")}createUser(a){let n=this.getAllUsers();a.id=n.length?n[n.length-1].id+1:1,n.push(a),localStorage.setItem(this.localStorageKey,JSON.stringify(n))}getRoles(){return y([{id:1,name:"Employ\xE9"},{id:2,name:"V\xE9t\xE9rinaire"}])}deleteUser(a){let n=JSON.parse(localStorage.getItem(this.localStorageKey)||"[]");n=n.filter(l=>l.id!==a),localStorage.setItem(this.localStorageKey,JSON.stringify(n))}static \u0275fac=function(n){return new(n||d)};static \u0275prov=E({token:d,factory:d.\u0275fac,providedIn:"root"})};var L=(d,a)=>a.id;function H(d,a){if(d&1&&(t(0,"option",15),i(1),e()),d&2){let n=a.$implicit;s("value",n.name),o(),p(n.name)}}function J(d,a){if(d&1){let n=U();t(0,"tr",21)(1,"td",20),i(2),e(),t(3,"td",20),i(4),e(),t(5,"td",20)(6,"div",54),r(7,"app-button",55),t(8,"app-button",56),S("click",function(){let u=w(n).$implicit,m=M();return C(m.deleteAccount(u.id))}),e()()()()}if(d&2){let n=a.$implicit;o(2),p(n.username),o(2),p(n.role),o(3),s("text","Modifier")("type","button")("color","secondary")("rounded",!0)("customClass","text-xs px-2 py-1 w-auto font-bold"),o(),s("text","Supprimer")("type","button")("color","red")("rounded",!0)("customClass","text-xs px-2 py-1 w-auto font-bold")}}var P=class d{constructor(a){this.adminService=a}users=[];roles=[];newUser={};ngOnInit(){this.loadUsers(),this.loadRoles()}loadUsers(){this.users=this.adminService.getAllUsers()}loadRoles(){this.adminService.getRoles().subscribe(a=>{this.roles=a})}createAccount(){this.newUser.username&&this.newUser.password&&this.newUser.role?(this.adminService.createUser(this.newUser),this.loadUsers(),this.newUser={}):console.log("Veuillez remplir tous les champs")}deleteAccount(a){this.adminService.deleteUser(a),this.loadUsers()}static \u0275fac=function(n){return new(n||d)(_(h))};static \u0275cmp=v({type:d,selectors:[["app-dashboard"]],standalone:!0,features:[A],decls:184,vars:19,consts:[[1,"admin-dashboard","p-8","bg-primary"],[1,"text-3xl","font-bold","mb-8","text-center"],[1,"account-management","mb-12","p-6","bg-secondary","rounded-lg","shadow-xl","shadow-tertiary"],[1,"text-2xl","font-semibold","mb-8","text-center"],[1,"flex","flex-col","lg:flex-row","gap-8"],[1,"w-full","lg:w-1/2","bg-gray-100","p-6","rounded-lg","shadow-sm"],[1,"text-xl","font-semibold","mb-4"],[1,"space-y-4"],["for","email",1,"block","text-lg","font-medium","mb-2"],["type","email","id","email","name","email","required","",1,"w-full","p-2","border","border-gray-300","rounded-md",3,"ngModelChange","ngModel"],["for","password",1,"block","text-lg","font-medium","mb-2"],["type","password","id","password","name","password","required","",1,"w-full","p-2","border","border-gray-300","rounded-md",3,"ngModelChange","ngModel"],["for","role",1,"block","text-lg","font-medium","mb-2"],["id","role","name","role","required","",1,"w-full","p-2","border","border-gray-300","rounded-md",3,"ngModelChange","ngModel"],["value",""],[3,"value"],[1,"w-full","sm:w-2/5","md:w-1/3","lg:w-1/4"],[3,"click","text","type","color","rounded"],[1,"w-full","border-collapse","bg-white","rounded-lg","shadow-sm"],[1,"bg-gray-200","text-left","text-sm","font-semibold","text-gray-700"],[1,"border","p-3"],[1,"border-b","last:border-0"],[1,"services-management","mb-12","p-6","bg-secondary","rounded-lg","shadow-xl","shadow-tertiary"],["for","service-name",1,"block","text-lg","font-medium","mb-2"],["type","text","id","service-name","name","service-name","required","",1,"w-full","p-2","border","border-gray-300","rounded-md"],[3,"text","type","color","rounded"],[1,"bg-gray-200"],[1,"border","p-4","text-left"],[1,"habitats-management","mb-12","p-6","bg-secondary","rounded-lg","shadow-xl","shadow-tertiary"],["for","habitat-name",1,"block","text-lg","font-medium","mb-2"],["type","text","id","habitat-name","name","habitat-name","required","",1,"w-full","p-2","border","border-gray-300","rounded-md"],["for","habitat-description",1,"block","text-lg","font-medium","mb-2"],["id","habitat-description","name","habitat-description","required","",1,"w-full","p-2","border","border-gray-300","rounded-md"],["for","habitat-images",1,"block","text-lg","font-medium","mb-2"],["type","file","id","habitat-images","name","habitat-images","multiple","",1,"w-full"],[1,"animals-management","mb-12","p-6","bg-secondary","rounded-lg","shadow-xl","shadow-tertiary"],["for","animal-name",1,"block","text-lg","font-medium","mb-2"],["type","text","id","animal-name","name","animal-name","required","",1,"w-full","p-2","border","border-gray-300","rounded-md"],["for","animal-race",1,"block","text-lg","font-medium","mb-2"],["type","text","id","animal-race","name","animal-race","required","",1,"w-full","p-2","border","border-gray-300","rounded-md"],["for","animal-images",1,"block","text-lg","font-medium","mb-2"],["type","file","id","animal-images","name","animal-images","multiple","",1,"w-full"],["for","animal-habitat",1,"block","text-lg","font-medium","mb-2"],["id","animal-habitat","name","animal-habitat",1,"w-full","p-2","border","border-gray-300","rounded-md"],[1,"veterinarian-reports","mb-12","p-6","bg-secondary","rounded-lg","shadow-xl","shadow-tertiary"],[1,"filters","space-y-4"],["for","filter-animal",1,"block","text-lg","font-medium","mb-2"],["id","filter-animal","name","filter-animal",1,"w-full","p-2","border","border-gray-300","rounded-md"],["for","filter-date",1,"block","text-lg","font-medium","mb-2"],["type","date","id","filter-date","name","filter-date",1,"w-full","p-2","border","border-gray-300","rounded-md"],["type","button",1,"px-6","py-2","bg-teal-600","text-white","rounded-md","hover:bg-teal-700"],[1,"habitats-dashboard","p-6","bg-white","rounded-lg","shadow-md"],[1,"text-2xl","font-semibold","mb-4"],[1,"statistics"],[1,"flex","space-x-2"],[3,"text","type","color","rounded","customClass"],[3,"click","text","type","color","rounded","customClass"]],template:function(n,l){n&1&&(t(0,"div",0)(1,"h1",1),i(2,"Admin Dashboard"),e(),t(3,"section",2)(4,"h2",3),i(5," Cr\xE9ation et gestion des comptes "),e(),t(6,"div",4)(7,"div",5)(8,"h3",6),i(9,"Cr\xE9er un compte"),e(),t(10,"form",7)(11,"div")(12,"label",8),i(13,"Email:"),e(),t(14,"input",9),g("ngModelChange",function(m){return b(l.newUser.username,m)||(l.newUser.username=m),m}),e()(),t(15,"div")(16,"label",10),i(17,"Mot de passe:"),e(),t(18,"input",11),g("ngModelChange",function(m){return b(l.newUser.password,m)||(l.newUser.password=m),m}),e()(),t(19,"div")(20,"label",12),i(21,"R\xF4le:"),e(),t(22,"select",13),g("ngModelChange",function(m){return b(l.newUser.role,m)||(l.newUser.role=m),m}),t(23,"option",14),i(24,"- Choisir un r\xF4le -"),e(),f(25,H,2,2,"option",15,L),e()(),t(27,"div",16)(28,"app-button",17),S("click",function(){return l.createAccount()}),e()()()(),t(29,"div",5)(30,"h3",6),i(31,"Liste des comptes"),e(),t(32,"table",18)(33,"thead")(34,"tr",19)(35,"th",20),i(36,"Email"),e(),t(37,"th",20),i(38,"R\xF4le"),e(),t(39,"th",20),i(40,"Actions"),e()()(),t(41,"tbody"),f(42,J,9,12,"tr",21,L),e()()()()(),t(44,"section",22)(45,"h2",3),i(46," Modification des services "),e(),t(47,"div",4)(48,"div",5)(49,"h3",6),i(50," Ajouter/Mettre \xE0 jour Service "),e(),t(51,"form",7)(52,"div")(53,"label",23),i(54,"Nom du service:"),e(),r(55,"input",24),e(),t(56,"div",16),r(57,"app-button",25),e()()(),t(58,"div",5)(59,"h3",6),i(60,"Liste des services"),e(),t(61,"table",18)(62,"thead")(63,"tr",26)(64,"th",27),i(65,"Nom du service"),e(),t(66,"th",27),i(67,"Actions"),e()()(),r(68,"tbody"),e()()()(),t(69,"section",28)(70,"h2",3),i(71," Gestion des habitats "),e(),t(72,"div",4)(73,"div",5)(74,"h3",6),i(75," Ajouter/Mettre \xE0 jour Habitat "),e(),t(76,"form",7)(77,"div")(78,"label",29),i(79,"Nom de l'habitat:"),e(),r(80,"input",30),e(),t(81,"div")(82,"label",31),i(83,"Description:"),e(),r(84,"textarea",32),e(),t(85,"div")(86,"label",33),i(87,"Images:"),e(),r(88,"input",34),e(),t(89,"div",16),r(90,"app-button",25),e()()(),t(91,"div",5)(92,"h3",6),i(93,"Liste des habitats"),e(),t(94,"table",18)(95,"thead")(96,"tr",26)(97,"th",27),i(98,"Nom de l'habitat"),e(),t(99,"th",27),i(100,"Description"),e(),t(101,"th",27),i(102,"Images"),e(),t(103,"th",27),i(104,"Actions"),e()()(),r(105,"tbody"),e()()()(),t(106,"section",35)(107,"h2",3),i(108,"Gestion des animaux"),e(),t(109,"div",4)(110,"div",5)(111,"h3",6),i(112,"Ajouter/Mettre \xE0 jour Animal"),e(),t(113,"form",7)(114,"div")(115,"label",36),i(116,"Pr\xE9nom de l'animal:"),e(),r(117,"input",37),e(),t(118,"div")(119,"label",38),i(120,"Race:"),e(),r(121,"input",39),e(),t(122,"div")(123,"label",40),i(124,"Images:"),e(),r(125,"input",41),e(),t(126,"div")(127,"label",42),i(128,"Habitat:"),e(),r(129,"select",43),e(),t(130,"div",16),r(131,"app-button",25),e()()(),t(132,"div",5)(133,"h3",6),i(134,"Liste des animaux"),e(),t(135,"table",18)(136,"thead")(137,"tr",26)(138,"th",27),i(139,"Pr\xE9nom"),e(),t(140,"th",27),i(141,"Race"),e(),t(142,"th",27),i(143,"Images"),e(),t(144,"th",27),i(145,"Habitat"),e(),t(146,"th",27),i(147,"Actions"),e()()(),r(148,"tbody"),e()()()(),t(149,"section",44)(150,"h2",3),i(151," Comptes rendus des v\xE9t\xE9rinaires "),e(),t(152,"div",4)(153,"div",5)(154,"h3",6),i(155,"Filtres"),e(),t(156,"div",45)(157,"div")(158,"label",46),i(159,"Filtrer par animal:"),e(),r(160,"select",47),e(),t(161,"div")(162,"label",48),i(163,"Filtrer par date:"),e(),r(164,"input",49),e(),t(165,"button",50),i(166," Appliquer Filtres "),e()()(),t(167,"div",5)(168,"h3",6),i(169,"Liste des comptes rendus"),e(),t(170,"table",18)(171,"thead")(172,"tr",26)(173,"th",27),i(174,"Animal"),e(),t(175,"th",27),i(176,"Date"),e(),t(177,"th",27),i(178,"Rapport"),e()()(),r(179,"tbody"),e()()()(),t(180,"section",51)(181,"h2",52),i(182," Dashboard de consultation des habitats "),e(),r(183,"div",53),e()()),n&2&&(o(14),c("ngModel",l.newUser.username),o(4),c("ngModel",l.newUser.password),o(4),c("ngModel",l.newUser.role),o(3),x(l.roles),o(3),s("text","Cr\xE9er le compte")("type","button")("color","tertiary")("rounded",!0),o(14),x(l.users),o(15),s("text","Ajouter/Mettre \xE0 jour Service")("type","button")("color","tertiary")("rounded",!0),o(33),s("text","Ajouter/Mettre \xE0 jour Habitat")("type","button")("color","tertiary")("rounded",!0),o(41),s("text","Ajouter/Mettre \xE0 jour Animal")("type","button")("color","tertiary")("rounded",!0))},dependencies:[W,V,F,O,q,k,R,D,I,T,j,N],encapsulation:2})};export{P as DashboardComponent};
