import{Tc as f,V as a,Wc as n,Y as l,a as o,aa as m,b as p,p as c,qa as v,u as s}from"./chunk-JLM7LPRF.js";var d=class i{constructor(r){this.http=r}imageBaseUrl=`${n.apiUrl}/api`;apiUrl=`${n.apiUrl}/api/services`;servicesCache=v([]);getServices(){let r=this.servicesCache();return r.length>0?c(r):this.http.get(this.apiUrl).pipe(s(e=>e.map(t=>p(o({},t),{images:t.images?this.formatImageUrl("services",t.images):""}))),a(e=>this.servicesCache.set(e)))}getServiceById(r){return this.getServices().pipe(s(e=>e.find(t=>t.id_service===r)),a(e=>{e&&(e.images=e.images?this.formatImageUrl("services",e.images):"")}))}formatImageUrl(r,e){if(e.startsWith("http")||e.startsWith("https"))return e;if(e.includes("uploads")){let t=e.split("/");e=t[t.length-1]}return`${this.imageBaseUrl}/uploads/${r}/${e}`}clearCache(){this.servicesCache.set([])}static \u0275fac=function(e){return new(e||i)(m(f))};static \u0275prov=l({token:i,factory:i.\u0275fac,providedIn:"root"})};export{d as a};
